CREATE TABLE IF NOT EXISTS Users(
id    BIGINT       GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name  VARCHAR(255) NOT NULL,
email VARCHAR(512) NOT NULL UNIQUE);

CREATE TABLE IF NOT EXISTS Items(
id          BIGINT       GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name        VARCHAR(255) NOT NULL,
description VARCHAR      NOT NULL,
available   BOOLEAN      NOT NULL,
owner_id    BIGINT       NOT NULL CONSTRAINT table_name_users_id_fk REFERENCES users);

CREATE TABLE IF NOT EXISTS Bookings(
id              BIGINT    GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
booker_id       BIGINT    NOT NULL CONSTRAINT Bookings_users_id_fk REFERENCES users,
item_id         BIGINT    NOT NULL CONSTRAINT Bookings_items_id_fk REFERENCES items,
start_date_time TIMESTAMP NOT NULL,
end_date_time   TIMESTAMP NOT NULL,
status          VARCHAR   NOT NULL);

CREATE TABLE IF NOT EXISTS Comments(
id         BIGINT    GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
author_id  BIGINT    NOT NULL CONSTRAINT Comments_users_id_fk REFERENCES users,
item_id    BIGINT    NOT NULL CONSTRAINT Comments_items_id_fk REFERENCES items,
text       VARCHAR   NOT NULL,
created    TIMESTAMP NOT NULL);